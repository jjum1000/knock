# Knock Backend Environment Configuration

# ============================================================================
# DATABASE
# ============================================================================
DATABASE_URL="postgresql://user:password@localhost:5432/knock?schema=public"

# ============================================================================
# SERVER
# ============================================================================
PORT=3003
NODE_ENV=development

# ============================================================================
# JWT AUTHENTICATION
# ============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# ============================================================================
# GEMINI API (Google AI)
# ============================================================================
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_PROJECT_ID=your_gcp_project_id

# LLM Configuration
GEMINI_LLM_MODEL=gemini-1.5-pro
GEMINI_LLM_TEMPERATURE=0.7
GEMINI_LLM_MAX_TOKENS=4000

# Image Generation Configuration
GEMINI_IMAGEN_MODEL=imagen-3.0-generate-001
GEMINI_IMAGEN_GUIDANCE_SCALE=7.5
GEMINI_IMAGEN_ASPECT_RATIO=9:16

# ============================================================================
# IMAGE STORAGE & CDN
# ============================================================================
CDN_BASE_URL=https://cdn.knock.com
CDN_UPLOAD_PATH=/rooms
UPLOAD_DIR=./uploads

# ============================================================================
# FEATURE FLAGS
# ============================================================================
AUTO_GENERATE_ROOMMATE=true
USE_AI_IMAGE_GENERATION=true
USE_FALLBACK_PRESETS=true

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_WINDOW_MS=3600000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# CORS
# ============================================================================
CORS_ORIGIN=http://localhost:3002

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=info
LOG_FILE=./logs/knock.log

# ============================================================================
# AGENT CONFIGURATION
# ============================================================================
# Agent execution timeouts (milliseconds)
AGENT_TIMEOUT=30000
AGENT_MAX_RETRIES=3

# Quality thresholds
MIN_NEED_DIVERSITY=2
MIN_PARADOX_COUNT=1
MIN_QUALITY_SCORE=0.7

# ============================================================================
# BACKGROUND JOBS
# ============================================================================
JOB_CONCURRENCY=5
JOB_RETRY_DELAY=1000
