# ê´€ë¦¬ì í˜ì´ì§€ ìƒì„¸ ì„¤ê³„ì„œ (Agent-Based Architecture)
**ì‘ì„±ì¼**: 2025-10-28 (ìµœì¢… ìˆ˜ì •: 2025-11-04)
**ëª©ì **: ì—ì´ì „íŠ¸ ê¸°ë°˜ ìë™ ìƒì„± ì‹œìŠ¤í…œ - ê´€ë¦¬ìëŠ” í”„ë¡¬í”„íŠ¸ì™€ I/Oë§Œ ê´€ë¦¬
**êµ¬í˜„ ìƒíƒœ**: Phase 1-5 UI ì™„ë£Œ âœ… | **Firebase ë°±ì—”ë“œ ì „í™˜ ì¤‘** ğŸ”„ (Expressâ†’Firebase Functions)

---

## ğŸ“‹ ê°œìš”

ê´€ë¦¬ìëŠ” **ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿**ê³¼ **ì—ì´ì „íŠ¸ I/O ì¸í„°í˜ì´ìŠ¤**ë§Œ ê´€ë¦¬í•©ë‹ˆë‹¤.
ìºë¦­í„° ìƒì„±, ìš•êµ¬ ë¶„ì„, ì´ë¯¸ì§€ ìƒì„± ë“± ëª¨ë“  ì‹¤í–‰ì€ **ì—ì´ì „íŠ¸ê°€ ìë™ìœ¼ë¡œ ìˆ˜í–‰**í•©ë‹ˆë‹¤.

### ğŸ¯ êµ¬í˜„ ì§„í–‰ ìƒí™© (2025-11-04 ê¸°ì¤€)
- ğŸ”„ **Phase 1 ì „í™˜ ì¤‘**: ~~Express REST API~~ â†’ **Firebase Functions** (55ê°œ í•¨ìˆ˜)
- âœ… **Phase 2 ì™„ë£Œ**: í”„ë¡ íŠ¸ì—”ë“œ Foundation (Layout, Dashboard) - ì»¤ë°‹: `879fba4`
- âœ… **Phase 3 ì™„ë£Œ**: í…œí”Œë¦¿ ê´€ë¦¬ UI (Monaco Editor, ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°)
- âœ… **Phase 4 ì™„ë£Œ**: ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ (Recharts, ì‹¤ì‹œê°„ ì°¨íŠ¸)
- âœ… **Phase 5 ì™„ë£Œ**: ë°ì´í„° í’€ ê´€ë¦¬ (3ê°œ í’€ Ã— CRUD UI)
- ğŸ”„ **Firebase ì „í™˜**: Express ë°±ì—”ë“œ â†’ Firebase Functions + Firestoreë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì§„í–‰ ì¤‘

---

## ğŸ¯ í•µì‹¬ ì² í•™

### ê´€ë¦¬ì ì—­í• 
```
ê´€ë¦¬ì = ì‹œìŠ¤í…œ ì„¤ê³„ì (Architect)
- ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ì‘ì„±
- ì—ì´ì „íŠ¸ I/O ìŠ¤í‚¤ë§ˆ ì •ì˜
- ë°ì´í„° í’€ ê´€ë¦¬
```

### ì—ì´ì „íŠ¸ ì—­í• 
```
ì—ì´ì „íŠ¸ = ì‹¤í–‰ì (Executor)
- ì˜¨ë³´ë”© ë°ì´í„° â†’ ìºë¦­í„° ìƒì„± (ì™„ì „ ìë™)
- ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì¡°ë¦½ (í…œí”Œë¦¿ ê¸°ë°˜)
- ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ìƒì„± ë° ì´ë¯¸ì§€ ìƒì„±
- í’ˆì§ˆ ê²€ì¦ ë° ì¬ì‹œë„
```

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ                         â”‚
â”‚                                                      â”‚
â”‚  1. ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ê´€ë¦¬                        â”‚
â”‚  2. ì—ì´ì „íŠ¸ I/O ìŠ¤í‚¤ë§ˆ ì •ì˜                          â”‚
â”‚  3. ë°ì´í„° í’€ ê´€ë¦¬ (ê²½í—˜, ì•„í‚¤íƒ€ì…, ì‹œê° ìš”ì†Œ)         â”‚
â”‚  4. ì—ì´ì „íŠ¸ ì‹¤í–‰ ëª¨ë‹ˆí„°ë§                            â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì—ì´ì „íŠ¸ ìë™ ì‹¤í–‰ ì—”ì§„                   â”‚
â”‚                                                      â”‚
â”‚  Input: ì˜¨ë³´ë”© ë°ì´í„° (domains, keywords, interests) â”‚
â”‚    â†“                                                 â”‚
â”‚  [Agent 1] ìš•êµ¬ ë²¡í„° ë¶„ì„                            â”‚
â”‚    â†“                                                 â”‚
â”‚  [Agent 2] ìºë¦­í„° í”„ë¡œíŒŒì¼ ìƒì„±                       â”‚
â”‚    â†“                                                 â”‚
â”‚  [Agent 3] ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì¡°ë¦½                       â”‚
â”‚    â†“                                                 â”‚
â”‚  [Agent 4] ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ìƒì„±                       â”‚
â”‚    â†“                                                 â”‚
â”‚  [Agent 5] ì´ë¯¸ì§€ ìƒì„± (Gemini Imagen)               â”‚
â”‚    â†“                                                 â”‚
â”‚  Output: ì™„ì„±ëœ ë£¸ë©”ì´íŠ¸ (persona + room)             â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ê´€ë¦¬

### 1.1 í…œí”Œë¦¿ êµ¬ì¡°

```typescript
interface PromptTemplate {
  id: string;
  name: string;
  version: string;

  // í…œí”Œë¦¿ ì„¹ì…˜ë“¤
  sections: {
    why: string;           // WHY ì„¹ì…˜ í…œí”Œë¦¿
    past: string;          // ê³¼ê±° ê²½í—˜ ì„¹ì…˜ í…œí”Œë¦¿
    trauma: string;        // íŠ¸ë¼ìš°ë§ˆ ì„¹ì…˜ í…œí”Œë¦¿
    how: string;           // HOW ì„¹ì…˜ í…œí”Œë¦¿
    personality: string;   // ì„±ê²© ì„¹ì…˜ í…œí”Œë¦¿
    what: string;          // WHAT ì„¹ì…˜ í…œí”Œë¦¿
    relationship: string;  // ê´€ê³„ íŒ¨í„´ ì„¹ì…˜ í…œí”Œë¦¿
  };

  // í…œí”Œë¦¿ ë³€ìˆ˜ ì •ì˜
  variables: {
    name: 'characterName',
    type: 'string',
    required: true
  }[];

  // ì—ì´ì „íŠ¸ ì§€ì‹œì‚¬í•­
  agentInstructions: string;
}
```

### 1.2 í…œí”Œë¦¿ í¸ì§‘ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ í¸ì§‘                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  í…œí”Œë¦¿ ì´ë¦„: [Default Roommate Template v1.0]       â”‚
â”‚  ë²„ì „: [1.0.0]                                       â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€ ì„¹ì…˜ ì„ íƒ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [WHY] [PAST] [TRAUMA] [HOW] [PERSONALITY]   â”‚    â”‚
â”‚  â”‚ [WHAT] [RELATIONSHIP]                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€ WHY ì„¹ì…˜ í…œí”Œë¦¿ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ## WHY - ë‚˜ì˜ ê·¼ì›ì  ìš•êµ¬                    â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ ë‚˜ëŠ” **{{characterName}}**ì´ë‹¤.             â”‚    â”‚
â”‚  â”‚ {{userName}}ì˜ ë£¸ë©”ì´íŠ¸ë‹¤.                   â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ ### ë‚˜ì˜ ìš•êµ¬                                â”‚    â”‚
â”‚  â”‚ {{#each needs}}                             â”‚    â”‚
â”‚  â”‚ - **{{this.name}}** ({{this.intensity}}):   â”‚    â”‚
â”‚  â”‚   {{this.description}}                       â”‚    â”‚
â”‚  â”‚ {{/each}}                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€ ë³€ìˆ˜ ì •ì˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â€¢ characterName (string, required)          â”‚    â”‚
â”‚  â”‚ â€¢ userName (string, required)               â”‚    â”‚
â”‚  â”‚ â€¢ needs (array, auto-generated by agent)    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â”‚  [ë¯¸ë¦¬ë³´ê¸°]  [í…ŒìŠ¤íŠ¸ ì‹¤í–‰]  [ì €ì¥]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í•µì‹¬**:
- ê´€ë¦¬ìëŠ” **í…œí”Œë¦¿ êµ¬ì¡°**ë§Œ ì •ì˜
- `{{ë³€ìˆ˜}}`ëŠ” ì—ì´ì „íŠ¸ê°€ ìë™ ì±„ì›€
- Handlebars ë¬¸ë²• ì‚¬ìš© (ì¡°ê±´ë¬¸, ë°˜ë³µë¬¸ ì§€ì›)

---

## 2. ì—ì´ì „íŠ¸ I/O ìŠ¤í‚¤ë§ˆ ì •ì˜

### 2.1 ì—ì´ì „íŠ¸ ì…ë ¥ ìŠ¤í‚¤ë§ˆ

```typescript
interface AgentInput {
  // ì‚¬ìš©ì ë°ì´í„° (ì˜¨ë³´ë”©ì—ì„œ ìˆ˜ì§‘)
  userData: {
    domains: string[];      // ë°©ë¬¸ ë„ë©”ì¸
    keywords: string[];     // ê²€ìƒ‰ í‚¤ì›Œë“œ
    interests: string[];    // ìˆ˜ë™ ì…ë ¥ ê´€ì‹¬ì‚¬
    avoidTopics: string[];  // ê¸ˆê¸° ì£¼ì œ
  };

  // ì„ í˜¸ë„
  preferences?: {
    conversationStyle?: 'casual' | 'formal' | 'mixed';
    responseLength?: 'short' | 'medium' | 'long';
  };

  // ë©”íƒ€ ì •ë³´
  meta: {
    userId: string;
    userName: string;
    language: string;       // 'ko', 'en', etc.
  };
}
```

### 2.2 ì—ì´ì „íŠ¸ ì¶œë ¥ ìŠ¤í‚¤ë§ˆ

```typescript
interface AgentOutput {
  // 1. ë¶„ì„ ê²°ê³¼
  analysis: {
    presenceVector: NeedVector[];     // ìš•êµ¬ ë²¡í„°
    deficiencyVector: DeficiencyVector[];
    completeVector: CompleteNeedVector[];
    paradoxes: Paradox[];
  };

  // 2. ìºë¦­í„° í”„ë¡œíŒŒì¼
  character: {
    name: string;                     // ìë™ ìƒì„±ëœ ì´ë¦„
    archetype: string;                // 'developer_gamer', etc.
    keywords: string[];               // í•µì‹¬ í‚¤ì›Œë“œ

    // ì—ì´ì „íŠ¸ê°€ ìë™ ìƒì„±í•œ êµ¬ì¡°í™”ëœ ë°ì´í„°
    fundamentalNeeds: FundamentalNeeds;
    pastExperiences: Experience[];
    traumaAndLearning: TraumaAndLearning;
    manifestedDesires: ManifestedDesire[];
    survivalStrategies: SurvivalStrategy[];
    personalityTraits: PersonalityTraits;
    conversationPatterns: ConversationPatterns;
  };

  // 3. ìƒì„±ëœ í”„ë¡¬í”„íŠ¸
  prompts: {
    systemPrompt: string;   // ì¡°ë¦½ëœ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸
    imagePrompt: string;    // ì´ë¯¸ì§€ ìƒì„± í”„ë¡¬í”„íŠ¸
  };

  // 4. ì´ë¯¸ì§€
  image: {
    url: string;
    metadata: ImageMetadata;
  };

  // 5. í’ˆì§ˆ ì§€í‘œ
  quality: {
    needDiversity: boolean;
    hasParadox: boolean;
    promptStructure: boolean;
    imageValidation: boolean;
    score: number;  // 0-100
  };
}
```

### 2.3 I/O ìŠ¤í‚¤ë§ˆ í¸ì§‘ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì—ì´ì „íŠ¸ I/O ìŠ¤í‚¤ë§ˆ ê´€ë¦¬                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  â”Œâ”€ ì…ë ¥ ìŠ¤í‚¤ë§ˆ (Input Schema) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                â”‚  â”‚
â”‚  â”‚  {                                             â”‚  â”‚
â”‚  â”‚    "userData": {                              â”‚  â”‚
â”‚  â”‚      "domains": ["string[]"],                 â”‚  â”‚
â”‚  â”‚      "keywords": ["string[]"],                â”‚  â”‚
â”‚  â”‚      "interests": ["string[]"],               â”‚  â”‚
â”‚  â”‚      "avoidTopics": ["string[]"]              â”‚  â”‚
â”‚  â”‚    },                                          â”‚  â”‚
â”‚  â”‚    "preferences": {                            â”‚  â”‚
â”‚  â”‚      "conversationStyle": "enum",              â”‚  â”‚
â”‚  â”‚      "responseLength": "enum"                  â”‚  â”‚
â”‚  â”‚    }                                           â”‚  â”‚
â”‚  â”‚  }                                             â”‚  â”‚
â”‚  â”‚                                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€ ì¶œë ¥ ìŠ¤í‚¤ë§ˆ (Output Schema) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                â”‚  â”‚
â”‚  â”‚  {                                             â”‚  â”‚
â”‚  â”‚    "analysis": { ... },                       â”‚  â”‚
â”‚  â”‚    "character": { ... },                      â”‚  â”‚
â”‚  â”‚    "prompts": {                                â”‚  â”‚
â”‚  â”‚      "systemPrompt": "string",                â”‚  â”‚
â”‚  â”‚      "imagePrompt": "string"                  â”‚  â”‚
â”‚  â”‚    },                                          â”‚  â”‚
â”‚  â”‚    "image": { ... },                           â”‚  â”‚
â”‚  â”‚    "quality": { ... }                          â”‚  â”‚
â”‚  â”‚  }                                             â”‚  â”‚
â”‚  â”‚                                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                      â”‚
â”‚  [JSON ìŠ¤í‚¤ë§ˆ ê²€ì¦]  [í…ŒìŠ¤íŠ¸ ì‹¤í–‰]  [ì €ì¥]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ë°ì´í„° í’€ ê´€ë¦¬

ì—ì´ì „íŠ¸ê°€ ì‚¬ìš©í•  **ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë°ì´í„°**ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

### 3.1 ê²½í—˜ í…œí”Œë¦¿ í’€ (Experience Pool)

```typescript
interface ExperienceTemplate {
  id: string;
  category: string;        // 'belonging', 'recognition', etc.
  title: string;
  event: string;
  ageRange: [number, number];  // [14, 18]
  learnings: string[];

  // íŠ¸ë¦¬ê±° ì¡°ê±´ (ì—ì´ì „íŠ¸ê°€ ì´ ê²½í—˜ì„ ì„ íƒí•˜ëŠ” ì¡°ê±´)
  triggers: {
    needs: string[];       // ì–´ë–¤ ìš•êµ¬ì™€ ê´€ë ¨?
    keywords: string[];    // ì–´ë–¤ í‚¤ì›Œë“œ ë°œê²¬ ì‹œ?
    priority: number;      // ìš°ì„ ìˆœìœ„ (1-10)
  };
}
```

**ì˜ˆì‹œ ë°ì´í„°**:
```json
{
  "id": "exp_001",
  "category": "belonging",
  "title": "ì™•ë”° ê²½í—˜",
  "event": "ì¤‘í•™êµ 2í•™ë…„ ë•Œ 3ê°œì›”ê°„ í•™êµì—ì„œ ì™•ë”°ë¥¼ ë‹¹í•¨. ì•„ë¬´ë„ ëŒ€í™”ë¥¼ ê±¸ì§€ ì•Šì•˜ê³ , ì ì‹¬ì‹œê°„ì´ ê°€ì¥ ê³ í†µìŠ¤ëŸ¬ì› ìŒ.",
  "ageRange": [13, 15],
  "learnings": [
    "ë‚˜ëŠ” ì–´ë””ì—ë„ ì†í•˜ì§€ ëª»í•œë‹¤",
    "ì†Œì†ë˜ëŠ” ê²ƒì´ ìƒì¡´ì´ë‹¤",
    "ê±°ë¶€ë‹¹í•˜ëŠ” ê²ƒì´ ê°€ì¥ ë‘ë µë‹¤"
  ],
  "triggers": {
    "needs": ["belonging"],
    "keywords": ["ì™¸ë¡œì›€", "ì¹œêµ¬", "ì†Œì™¸"],
    "priority": 9
  }
}
```

### 3.2 ê²½í—˜ í…œí”Œë¦¿ ê´€ë¦¬ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê²½í—˜ í…œí”Œë¦¿ í’€ (Experience Pool)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  [+ ìƒˆ ê²½í—˜ ì¶”ê°€]         [ê²€ìƒ‰: ______] [í•„í„° â–¼]    â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“Œ ì™•ë”° ê²½í—˜ (belonging)                     â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ ì‚¬ê±´: ì¤‘í•™êµ 2í•™ë…„ ë•Œ 3ê°œì›”ê°„ í•™êµì—ì„œ...     â”‚    â”‚
â”‚  â”‚ ì—°ë ¹: 13-15ì„¸                                â”‚    â”‚
â”‚  â”‚ í•™ìŠµ: "ë‚˜ëŠ” ì–´ë””ì—ë„ ì†í•˜ì§€ ëª»í•œë‹¤", ...      â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ íŠ¸ë¦¬ê±°:                                      â”‚    â”‚
â”‚  â”‚ â€¢ ìš•êµ¬: belonging                            â”‚    â”‚
â”‚  â”‚ â€¢ í‚¤ì›Œë“œ: ì™¸ë¡œì›€, ì¹œêµ¬, ì†Œì™¸                  â”‚    â”‚
â”‚  â”‚ â€¢ ìš°ì„ ìˆœìœ„: 9                                â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚                    [ìˆ˜ì •] [ë³µì œ] [ì‚­ì œ]       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“Œ ê²Œì„ ì»¤ë®¤ë‹ˆí‹° ë°œê²¬ (belonging)             â”‚    â”‚
â”‚  â”‚ ...                                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ì•„í‚¤íƒ€ì… í’€ (Archetype Pool)

```typescript
interface ArchetypeTemplate {
  id: string;
  name: string;              // 'developer_gamer'
  matchingNeeds: string[];   // ['recognition', 'belonging']

  // ì‹œê°ì  ìš”ì†Œ
  visualElements: {
    objects: {
      name: string;
      weight: number;
      requirement?: string;
    }[];
    colors: {
      primary: string;
      secondary: string;
      accent: string;
    };
    lighting: string;
    mood: string;
  };

  // ëŒ€í™” ìŠ¤íƒ€ì¼
  conversationStyle: {
    length: 'short' | 'medium' | 'long';
    speed: 'fast' | 'medium' | 'slow';
    tone: 'light' | 'neutral' | 'serious';
    characteristics: string[];
  };
}
```

### 3.4 ì‹œê° ìš”ì†Œ í’€ (Visual Elements Pool)

```typescript
interface VisualElementTemplate {
  id: string;
  category: 'object' | 'color' | 'lighting' | 'mood';

  // ìš•êµ¬ ë§¤í•‘
  relatedNeeds: string[];

  // ê°ì²´ ì •ë³´
  name: string;
  description: string;

  // í”½ì…€ì•„íŠ¸ í”„ë¡¬í”„íŠ¸ ì¡°ê°
  promptFragment: string;

  // ì‚¬ìš© ë¹ˆë„ ê°€ì¤‘ì¹˜
  weight: number;
}
```

**ì˜ˆì‹œ**:
```json
{
  "id": "obj_001",
  "category": "object",
  "relatedNeeds": ["belonging", "growth"],
  "name": "Small potted plant",
  "description": "ì‘ì€ í™”ë¶„ì— ë‹´ê¸´ ì‹ë¬¼",
  "promptFragment": "small succulent plant on desk corner, pixelated leaves",
  "weight": 0.7
}
```

---

## 4. ì—ì´ì „íŠ¸ ì‹¤í–‰ ëª¨ë‹ˆí„°ë§

### 4.1 ì‹¤í–‰ ëŒ€ì‹œë³´ë“œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì—ì´ì „íŠ¸ ì‹¤í–‰ ëª¨ë‹ˆí„°ë§                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  ğŸ“Š ì‹¤ì‹œê°„ í†µê³„                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  â€¢ ì˜¤ëŠ˜ ìƒì„±: 47ê°œ                                   â”‚
â”‚  â€¢ ì„±ê³µë¥ : 94.2% (44/47)                            â”‚
â”‚  â€¢ í‰ê·  ì†Œìš” ì‹œê°„: 12.3ì´ˆ                            â”‚
â”‚  â€¢ í‰ê·  í’ˆì§ˆ ì ìˆ˜: 87.5/100                          â”‚
â”‚                                                      â”‚
â”‚  ğŸ”„ ì§„í–‰ ì¤‘ì¸ ì‘ì—… (3)                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Job #1245                                â”‚      â”‚
â”‚  â”‚ ì‚¬ìš©ì: user_abc123                       â”‚      â”‚
â”‚  â”‚ ìƒíƒœ: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 80% - ì´ë¯¸ì§€ ìƒì„± ì¤‘   â”‚      â”‚
â”‚  â”‚ ì‹œì‘: 2ì´ˆ ì „                              â”‚      â”‚
â”‚  â”‚                              [ë¡œê·¸ ë³´ê¸°]  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                      â”‚
â”‚  âœ… ìµœê·¼ ì™„ë£Œ (10)                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  â€¢ Job #1244 - ì„±ê³µ (14ì´ˆ, í’ˆì§ˆ: 92/100)            â”‚
â”‚  â€¢ Job #1243 - ì„±ê³µ (11ì´ˆ, í’ˆì§ˆ: 88/100)            â”‚
â”‚  â€¢ Job #1242 - ì‹¤íŒ¨ (ì´ë¯¸ì§€ ìƒì„± ì‹¤íŒ¨ â†’ Fallback)   â”‚
â”‚  â€¢ ...                                              â”‚
â”‚                                                      â”‚
â”‚  âŒ ì—ëŸ¬ ë¡œê·¸ (3)                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  â€¢ Job #1240 - Gemini API timeout (ì¬ì‹œë„ ì„±ê³µ)     â”‚
â”‚  â€¢ Job #1235 - ìš•êµ¬ ë²¡í„° ë‹¤ì–‘ì„± ë¶€ì¡± (ì¬ìƒì„±)        â”‚
â”‚  â€¢ ...                                              â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ê°œë³„ ì‘ì—… ìƒì„¸ ë¡œê·¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Job #1245 ìƒì„¸ ë¡œê·¸                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  [00:00] ì‘ì—… ì‹œì‘                                   â”‚
â”‚  [00:01] âœ“ ì…ë ¥ ê²€ì¦ ì™„ë£Œ                            â”‚
â”‚  [00:02] âœ“ Agent 1: ìš•êµ¬ ë²¡í„° ë¶„ì„ ì™„ë£Œ              â”‚
â”‚          â†’ 3ê°œ ìš•êµ¬ ë°œê²¬ (belonging: 0.8, ...)       â”‚
â”‚  [00:04] âœ“ Agent 2: ìºë¦­í„° í”„ë¡œíŒŒì¼ ìƒì„± ì™„ë£Œ        â”‚
â”‚          â†’ ì´ë¦„: ê¹€ë¯¼ìˆ˜, ì•„í‚¤íƒ€ì…: developer_gamer  â”‚
â”‚  [00:06] âœ“ Agent 3: ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì¡°ë¦½ ì™„ë£Œ        â”‚
â”‚          â†’ 2,341 tokens                              â”‚
â”‚  [00:08] âœ“ Agent 4: ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ìƒì„± ì™„ë£Œ        â”‚
â”‚  [00:10] â³ Agent 5: ì´ë¯¸ì§€ ìƒì„± ì¤‘... (Gemini)      â”‚
â”‚                                                      â”‚
â”‚  [ì…ë ¥ ë°ì´í„°]  [ì¶œë ¥ ë¯¸ë¦¬ë³´ê¸°]  [ì¤‘ë‹¨]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ì—ì´ì „íŠ¸ ì„¤ì • ê´€ë¦¬

### 5.1 ì—ì´ì „íŠ¸ íŒŒì´í”„ë¼ì¸ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì—ì´ì „íŠ¸ íŒŒì´í”„ë¼ì¸ ì„¤ì •                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  â”Œâ”€ Agent 1: ìš•êµ¬ ë²¡í„° ë¶„ì„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ í™œì„±í™”: [âœ“]                                  â”‚    â”‚
â”‚  â”‚ LLM ëª¨ë¸: [Gemini 1.5 Pro        ] â–¼        â”‚    â”‚
â”‚  â”‚ Temperature: [0.3] (ë‚®ìŒ = ì¼ê´€ì„±)           â”‚    â”‚
â”‚  â”‚ Max Tokens: [2000]                          â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ íƒ€ì„ì•„ì›ƒ: [30ì´ˆ]                             â”‚    â”‚
â”‚  â”‚ ì¬ì‹œë„: [3íšŒ]                                â”‚    â”‚
â”‚  â”‚ Fallback: [ê¸°ë³¸ ìš•êµ¬ ë²¡í„° ì‚¬ìš©]              â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€ Agent 2: ìºë¦­í„° í”„ë¡œíŒŒì¼ ìƒì„± â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ í™œì„±í™”: [âœ“]                                  â”‚    â”‚
â”‚  â”‚ LLM ëª¨ë¸: [Gemini 1.5 Pro] â–¼                â”‚    â”‚
â”‚  â”‚ Temperature: [0.7] (ë†’ìŒ = ì°½ì˜ì„±)           â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ ë°ì´í„° í’€ ì‚¬ìš©:                               â”‚    â”‚
â”‚  â”‚ â€¢ [âœ“] ê²½í—˜ í…œí”Œë¦¿ í’€                         â”‚    â”‚
â”‚  â”‚ â€¢ [âœ“] ì•„í‚¤íƒ€ì… í’€                            â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€ Agent 5: ì´ë¯¸ì§€ ìƒì„± â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ í™œì„±í™”: [âœ“]                                  â”‚    â”‚
â”‚  â”‚ ëª¨ë¸: [Gemini Imagen 3.0] â–¼                 â”‚    â”‚
â”‚  â”‚ í•´ìƒë„: [256x512]                            â”‚    â”‚
â”‚  â”‚ ê°€ì´ë˜ìŠ¤ ìŠ¤ì¼€ì¼: [7.5]                        â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ í’ˆì§ˆ ê²€ì¦:                                    â”‚    â”‚
â”‚  â”‚ â€¢ [âœ“] í•´ìƒë„ í™•ì¸                            â”‚    â”‚
â”‚  â”‚ â€¢ [âœ“] ìƒ‰ìƒ ìˆ˜ ì œí•œ (32ìƒ‰)                    â”‚    â”‚
â”‚  â”‚ â€¢ [âœ“] í”½ì…€ì•„íŠ¸ ìŠ¤íƒ€ì¼ ê²€ì¦                    â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ ì‹¤íŒ¨ ì‹œ: [Fallback í”„ë¦¬ì…‹ ì‚¬ìš©] â–¼            â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â”‚  [í…ŒìŠ¤íŠ¸ ì‹¤í–‰]  [ì €ì¥]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 í’ˆì§ˆ ê¸°ì¤€ ì„¤ì •

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í’ˆì§ˆ ê²€ì¦ ê¸°ì¤€                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  ğŸ“Š ìš•êµ¬ ë²¡í„° ë‹¤ì–‘ì„±                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  ìµœì†Œ ìš•êµ¬ ê°œìˆ˜: [2] (0.5 ì´ìƒ ê°•ë„)                 â”‚
â”‚  ìµœëŒ€ ìš•êµ¬ ê°œìˆ˜: [4] (ë„ˆë¬´ ë§ìœ¼ë©´ 1ì°¨ì›ì )            â”‚
â”‚                                                      â”‚
â”‚  ğŸ”€ ì—­ì„¤ í¬í•¨                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  ìµœì†Œ ì—­ì„¤ ê°œìˆ˜: [1]                                 â”‚
â”‚  ì—­ì„¤ ê¸´ì¥ë„ ìµœì†Œ: [0.5]                             â”‚
â”‚                                                      â”‚
â”‚  ğŸ“ í”„ë¡¬í”„íŠ¸ êµ¬ì¡°                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  í•„ìˆ˜ ì„¹ì…˜: [âœ“] WHY [âœ“] HOW [âœ“] WHAT                â”‚
â”‚  ìµœì†Œ ê¸¸ì´: [1000] tokens                            â”‚
â”‚  ìµœëŒ€ ê¸¸ì´: [4000] tokens                            â”‚
â”‚                                                      â”‚
â”‚  ğŸ–¼ï¸ ì´ë¯¸ì§€ í’ˆì§ˆ                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  í•´ìƒë„: 256x512 (ì •í™•íˆ ì¼ì¹˜)                        â”‚
â”‚  ìƒ‰ìƒ ìˆ˜: â‰¤ 40 (ê¶Œì¥ 32)                             â”‚
â”‚  í”½ì…€ì•„íŠ¸ ìŠ¤íƒ€ì¼: Sharp edge ë¹„ìœ¨ â‰¥ 70%              â”‚
â”‚  íŒŒì¼ í¬ê¸°: â‰¤ 200KB                                  â”‚
â”‚                                                      â”‚
â”‚  âš ï¸ ê¸°ì¤€ ë¯¸ë‹¬ ì‹œ ë™ì‘:                               â”‚
â”‚  ( ) ê²½ê³ ë§Œ í‘œì‹œ                                     â”‚
â”‚  (â—) ìë™ ì¬ìƒì„± (1íšŒ)                               â”‚
â”‚  ( ) ê´€ë¦¬ì ìŠ¹ì¸ ìš”ì²­                                â”‚
â”‚                                                      â”‚
â”‚  [ì €ì¥]                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹… ë„êµ¬

### 6.1 í…ŒìŠ¤íŠ¸ ì‹¤í–‰ê¸°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì—ì´ì „íŠ¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  ğŸ“¥ í…ŒìŠ¤íŠ¸ ì…ë ¥ ë°ì´í„°                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ {                                        â”‚      â”‚
â”‚  â”‚   "userData": {                          â”‚      â”‚
â”‚  â”‚     "domains": [                         â”‚      â”‚
â”‚  â”‚       "github.com",                      â”‚      â”‚
â”‚  â”‚       "stackoverflow.com",               â”‚      â”‚
â”‚  â”‚       "reddit.com/r/gaming"              â”‚      â”‚
â”‚  â”‚     ],                                   â”‚      â”‚
â”‚  â”‚     "keywords": [                        â”‚      â”‚
â”‚  â”‚       "react hooks",                     â”‚      â”‚
â”‚  â”‚       "best indie games 2025"            â”‚      â”‚
â”‚  â”‚     ],                                   â”‚      â”‚
â”‚  â”‚     "interests": ["ê°œë°œ", "ê²Œì„"],        â”‚      â”‚
â”‚  â”‚     "avoidTopics": ["ì •ì¹˜"]              â”‚      â”‚
â”‚  â”‚   },                                     â”‚      â”‚
â”‚  â”‚   "meta": {                              â”‚      â”‚
â”‚  â”‚     "userId": "test_user_001",           â”‚      â”‚
â”‚  â”‚     "userName": "í…ŒìŠ¤íŠ¸ìœ ì €",             â”‚      â”‚
â”‚  â”‚     "language": "ko"                     â”‚      â”‚
â”‚  â”‚   }                                      â”‚      â”‚
â”‚  â”‚ }                                        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                      â”‚
â”‚  [ìƒ˜í”Œ ë°ì´í„° ë¡œë“œ] â–¼  [íŒŒì¼ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°]            â”‚
â”‚                                                      â”‚
â”‚  [â–¶ í…ŒìŠ¤íŠ¸ ì‹¤í–‰]                                    â”‚
â”‚                                                      â”‚
â”‚  ğŸ“¤ í…ŒìŠ¤íŠ¸ ì¶œë ¥ ê²°ê³¼                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  (ì‹¤í–‰ í›„ í‘œì‹œ)                                      â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ê²°ê³¼ ë¹„êµ ë„êµ¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  A/B í…ŒìŠ¤íŠ¸ - í…œí”Œë¦¿ ë¹„êµ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  í…œí”Œë¦¿ A: [Default v1.0] â–¼                          â”‚
â”‚  í…œí”Œë¦¿ B: [Experimental v2.0] â–¼                     â”‚
â”‚                                                      â”‚
â”‚  ë™ì¼í•œ ì…ë ¥ìœ¼ë¡œ í…ŒìŠ¤íŠ¸: [test_user_001]              â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€ í…œí”Œë¦¿ A ê²°ê³¼ â”€â”€â”€â”€â”€â”€â”  â”Œâ”€ í…œí”Œë¦¿ B ê²°ê³¼ â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ í’ˆì§ˆ ì ìˆ˜: 87/100    â”‚  â”‚ í’ˆì§ˆ ì ìˆ˜: 92/100    â”‚â”‚
â”‚  â”‚ ìš•êµ¬ ë‹¤ì–‘ì„±: âœ“       â”‚  â”‚ ìš•êµ¬ ë‹¤ì–‘ì„±: âœ“       â”‚â”‚
â”‚  â”‚ ì—­ì„¤ í¬í•¨: âœ“         â”‚  â”‚ ì—­ì„¤ í¬í•¨: âœ“         â”‚â”‚
â”‚  â”‚ ìƒì„± ì‹œê°„: 12.3ì´ˆ    â”‚  â”‚ ìƒì„± ì‹œê°„: 14.1ì´ˆ    â”‚â”‚
â”‚  â”‚                      â”‚  â”‚                      â”‚â”‚
â”‚  â”‚ [ìƒì„¸ ë³´ê¸°]          â”‚  â”‚ [ìƒì„¸ ë³´ê¸°]          â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                      â”‚
â”‚  [10íšŒ ë°˜ë³µ í…ŒìŠ¤íŠ¸]  [í†µê³„ ë¹„êµ]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. API ëª…ì„¸

### 7.1 ì—ì´ì „íŠ¸ ì‹¤í–‰ API

```typescript
POST /api/v1/admin/agent/execute

Request:
{
  "input": AgentInput,      // I/O ìŠ¤í‚¤ë§ˆì— ì •ì˜ëœ ì…ë ¥
  "config": {
    "templateId": "uuid",   // ì‚¬ìš©í•  í…œí”Œë¦¿
    "skipCache": false,     // ìºì‹œ ë¬´ì‹œ ì—¬ë¶€
    "dryRun": false         // í…ŒìŠ¤íŠ¸ ëª¨ë“œ (DB ì €ì¥ ì•ˆ í•¨)
  }
}

Response:
{
  "success": true,
  "jobId": "job_12345",
  "status": "processing" | "completed" | "failed",
  "output": AgentOutput,  // ì™„ë£Œ ì‹œ
  "logs": [...],
  "executionTime": 12.3
}
```

### 7.2 í…œí”Œë¦¿ ê´€ë¦¬ API

```typescript
// í…œí”Œë¦¿ ëª©ë¡
GET /api/v1/admin/templates

// í…œí”Œë¦¿ ìƒì„±
POST /api/v1/admin/templates
{
  "name": "Default v1.0",
  "sections": { ... },
  "variables": [ ... ],
  "agentInstructions": "..."
}

// í…œí”Œë¦¿ ìˆ˜ì •
PATCH /api/v1/admin/templates/:id

// í…œí”Œë¦¿ ì‚­ì œ
DELETE /api/v1/admin/templates/:id
```

### 7.3 ë°ì´í„° í’€ ê´€ë¦¬ API

```typescript
// ê²½í—˜ í…œí”Œë¦¿ ëª©ë¡
GET /api/v1/admin/data-pool/experiences

// ê²½í—˜ í…œí”Œë¦¿ ì¶”ê°€
POST /api/v1/admin/data-pool/experiences
{
  "category": "belonging",
  "title": "ì™•ë”° ê²½í—˜",
  "event": "...",
  "learnings": [...],
  "triggers": { ... }
}

// ì•„í‚¤íƒ€ì… ëª©ë¡
GET /api/v1/admin/data-pool/archetypes

// ì‹œê° ìš”ì†Œ ëª©ë¡
GET /api/v1/admin/data-pool/visual-elements
```

---

## 8. Firestore ë°ì´í„° ëª¨ë¸

> **Note**: ~~PostgreSQL + Prisma~~ â†’ **Firestore (NoSQL)** ì „í™˜ ì™„ë£Œ

### 8.1 Root Collection: prompt_templates/

```typescript
// Document: prompt_templates/{templateId}
interface PromptTemplateDoc {
  name: string
  version: string
  description: string

  // í…œí”Œë¦¿ ì„¹ì…˜ë“¤
  sections: {
    why: string
    past: string
    trauma: string
    how: string
    personality: string
    what: string
    relationship: string
  }

  // ë³€ìˆ˜ ì •ì˜
  variables: Array<{
    name: string
    type: 'string' | 'number' | 'boolean' | 'array' | 'object'
    required: boolean
    defaultValue?: any
  }>

  // ì—ì´ì „íŠ¸ ì§€ì‹œì‚¬í•­
  agentInstructions: string

  // ë©”íƒ€
  isActive: boolean
  isDefault: boolean
  createdAt: Timestamp
  updatedAt: Timestamp
  createdBy: string  // Admin user ID
}

// Firestore Composite Indexes:
// - isActive ASC, createdAt DESC
// - isDefault ASC, isActive ASC
```

### 8.2 Root Collection: data_pools/

```typescript
// Subcollection: data_pools/experiences/items/{experienceId}
interface ExperienceDoc {
  category: 'belonging' | 'recognition' | 'growth' | 'autonomy' | 'security' | 'meaning'
  title: string
  event: string
  ageRange: {
    min: number
    max: number
  }
  learnings: string[]

  // íŠ¸ë¦¬ê±° ì¡°ê±´
  triggers: {
    needs: string[]
    keywords: string[]
    priority: number  // 1-10
  }

  isActive: boolean
  createdAt: Timestamp
}

// Subcollection: data_pools/archetypes/items/{archetypeId}
interface ArchetypeDoc {
  name: string
  displayName: string
  matchingNeeds: string[]

  // ì‹œê°ì  ìš”ì†Œ
  visualElements: {
    objects: Array<{
      name: string
      weight: number
      requirement?: string
    }>
    colors: {
      primary: string
      secondary: string
      accent: string
    }
    lighting: string
    mood: string
  }

  // ëŒ€í™” ìŠ¤íƒ€ì¼
  conversationStyle: {
    length: 'short' | 'medium' | 'long'
    speed: 'fast' | 'medium' | 'slow'
    tone: 'light' | 'neutral' | 'serious'
    characteristics: string[]
  }

  isActive: boolean
  createdAt: Timestamp
}

// Subcollection: data_pools/visuals/items/{visualId}
interface VisualElementDoc {
  category: 'object' | 'color' | 'lighting' | 'mood'
  name: string
  description: string
  promptFragment: string
  weight: number  // 0-1
  relatedNeeds: string[]
  isActive: boolean
  createdAt: Timestamp
}

// Firestore Composite Indexes:
// data_pools/experiences/items: isActive ASC, category ASC, createdAt DESC
// data_pools/archetypes/items: isActive ASC, createdAt DESC
// data_pools/visuals/items: isActive ASC, category ASC, weight DESC
```

### 8.3 Root Collection: agent_jobs/

```typescript
// Document: agent_jobs/{jobId}
interface AgentJobDoc {
  jobType: 'character_generation' | 'manual_test'
  status: 'pending' | 'running' | 'completed' | 'failed'
  userId: string

  // ì…ì¶œë ¥
  input: {
    onboardingData?: any
    templateId?: string
    config?: any
  }
  output: {
    persona?: any
    rooms?: any[]
    systemPrompt?: string
    imageUrl?: string
  } | null

  // ì„±ëŠ¥ ì§€í‘œ
  executionTimeMs: number | null
  qualityScore: number | null  // 0-100

  // ì—ëŸ¬
  errorMessage: string | null
  errorStep: string | null  // ì‹¤íŒ¨í•œ Agent ì´ë¦„

  // íƒ€ì„ìŠ¤íƒ¬í”„
  startedAt: Timestamp
  completedAt: Timestamp | null
  createdAt: Timestamp
}

// Subcollection: agent_jobs/{jobId}/logs/{logId}
interface AgentLogDoc {
  agentName: 'Agent 1' | 'Agent 2' | 'Agent 3' | 'Agent 4' | 'Agent 5'
  step: number  // 1-5
  status: 'pending' | 'running' | 'completed' | 'failed'

  input: any
  output: any | null

  startedAt: Timestamp
  completedAt: Timestamp | null
  durationMs: number | null

  errorMessage: string | null
}

// Firestore Composite Indexes:
// - userId ASC, status ASC, createdAt DESC
// - status ASC, createdAt DESC
// - userId ASC, createdAt DESC

// Security: Only admin and job owner can read
```

### 8.4 ì‹¤ì‹œê°„ êµ¬ë… íŒ¨í„´

```typescript
// Frontend: Real-time job monitoring
import { doc, onSnapshot } from 'firebase/firestore'

const jobRef = doc(db, 'agent_jobs', jobId)
const unsubscribe = onSnapshot(jobRef, (snapshot) => {
  const job = snapshot.data()
  if (job.status === 'completed') {
    // Update UI
  }
})

// Frontend: Real-time logs
const logsRef = collection(db, `agent_jobs/${jobId}/logs`)
const q = query(logsRef, orderBy('step', 'asc'))
onSnapshot(q, (snapshot) => {
  const logs = snapshot.docs.map(doc => doc.data())
  // Update timeline UI
})
```

---

## 9. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### ğŸ”„ Phase 1: ë°±ì—”ë“œ Firebase ì „í™˜ (ì§„í–‰ ì¤‘ - 2025-11-04)
**ìƒíƒœ**: Express REST API â†’ Firebase Functions ë§ˆì´ê·¸ë ˆì´ì…˜

> **Note**: ì´ˆê¸° Express.js ë°±ì—”ë“œëŠ” Firebase ì•„í‚¤í…ì²˜ì™€ ë§ì§€ ì•Šì•„ íê¸°í•˜ê³  Firebaseë¡œ ì „í™˜ ì¤‘

**Firebase Functions êµ¬ì¡°** (55ê°œ í•¨ìˆ˜ ì˜ˆì •):
1. **Admin - Templates** (7ê°œ Callable Functions)
   - `getTemplates`, `getTemplate`, `createTemplate`, `updateTemplate`
   - `deleteTemplate`, `testTemplate`

2. **Admin - Data Pools** (18ê°œ Callable Functions)
   - Experiences: `getExperiences`, `createExperience`, `updateExperience`, etc.
   - Archetypes: `getArchetypes`, `createArchetype`, `updateArchetype`, etc.
   - Visuals: `getVisuals`, `createVisual`, `updateVisual`, etc.

3. **Admin - Monitoring** (6ê°œ: 3 Callable + 3 Client Queries)
   - `getDashboardStats`, `getQualityAnalysis`, `getPerformanceMetrics`
   - ë‚˜ë¨¸ì§€ëŠ” Firestore ì§ì ‘ ì¿¼ë¦¬ (ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ)

4. **Admin - Agent Execution** (7ê°œ Functions)
   - `executeAgentManual`, `retryAgentJob`, `cancelAgentJob`
   - Pub/Sub Trigger: `agentPipelineOrchestrator`

5. **User APIs** (10ê°œ Functions + Client Queries)
   - Onboarding: `completeOnboarding` (Pub/Sub íŠ¸ë¦¬ê±°)
   - Roommate: `updateKeywords`, `deleteRoommate`
   - Chat: `generateFirstMessage`, `sendMessage`

6. **Agent Pipeline** (5ê°œ Background Functions)
   - `agent1NeedVector`, `agent2CharacterProfile`, `agent3PromptAssembly`
   - `agent4ImagePrompt`, `agent5ImageGeneration`

7. **Firestore Triggers** (ìë™ ì‹¤í–‰)
   - `onNewMessage`: ë©”ì‹œì§€ ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
   - `onJobComplete`: ì‚¬ìš©ì í†µê³„ ì—…ë°ì´íŠ¸

**ì¸ì¦ & ë³´ì•ˆ**:
- Firebase Authentication (Custom Claims for admin)
- Firestore Security Rules
- Firebase App Check (rate limiting)
- Zod ê²€ì¦ (Functions ë‚´ë¶€)

---

### âœ… Phase 2: í”„ë¡ íŠ¸ì—”ë“œ Foundation êµ¬í˜„ (ì™„ë£Œ - 2025-11-04)
**ì†Œìš” ì‹œê°„**: ~3ì‹œê°„ | **ì»¤ë°‹**: `879fba4`

1. âœ… **shadcn/ui ì„¤ì¹˜ ë° ì„¤ì •**
   - 20+ UI ì»´í¬ë„ŒíŠ¸
   - Tailwind í…Œë§ˆ
   - ì˜ì¡´ì„± 8ê°œ

2. âœ… **Admin ë ˆì´ì•„ì›ƒ**
   - AdminSidebar (collapsible)
   - AdminHeader (breadcrumbs)
   - Protected routes

3. ğŸ”„ **API í†µí•© ë ˆì´ì–´** (Firebaseë¡œ ì¬ì‘ì„± í•„ìš”)
   - ~~adminApi.ts (Axios REST)~~ â†’ Firebase SDKë¡œ ì „í™˜ ì˜ˆì •
   - Firebase Callable Functions í˜¸ì¶œ
   - Firestore ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ

4. âœ… **ìƒíƒœ ê´€ë¦¬**
   - Zustand store
   - ì˜êµ¬ ì €ì¥
   - Selector hooks

5. âœ… **ëŒ€ì‹œë³´ë“œ í™ˆ**
   - ì‹¤ì‹œê°„ í†µê³„ (7ê°œ ì¹´ë“œ)
   - ìµœê·¼ ì‘ì—… í…Œì´ë¸”
   - Quick actions

**ê²°ê³¼ë¬¼**:
- 11ê°œ íŒŒì¼ (~2,210 lines)
- ì™„ì „í•œ ê´€ë¦¬ì ì¸í”„ë¼
- ë¬¸ì„œ: [PHASE2_COMPLETE.md](../../PHASE2_COMPLETE.md)

---

### âœ… Phase 3: í…œí”Œë¦¿ ê´€ë¦¬ UI (ì™„ë£Œ - 2025-11-04)
**ì†Œìš” ì‹œê°„**: ~3ì‹œê°„

1. âœ… **í…œí”Œë¦¿ ëª©ë¡ í˜ì´ì§€**
   - Data table with filtering
   - ê²€ìƒ‰ & ì •ë ¬ (name, updated_at, version)
   - CRUD actions (Create, Edit, Delete, Preview)
   - Pagination (10/20/50/100 per page)

2. âœ… **í…œí”Œë¦¿ ì—ë””í„°**
   - Monaco Editor (VS Code's editor) for Handlebars
   - íƒ­ ì¸í„°í˜ì´ìŠ¤ (Editor, Variables, Preview)
   - ë³€ìˆ˜ ì •ì˜ UI (5 data types)
   - ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° (auto-preview mode)
   - í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ (backend API í†µí•©)

3. âœ… **í…œí”Œë¦¿ ì»´í¬ë„ŒíŠ¸**
   - TemplateList.tsx (188 lines)
   - TemplateFilters.tsx (98 lines)
   - TemplateEditor.tsx (48 lines) - Monaco wrapper
   - TemplateVariables.tsx (230 lines)
   - TemplatePreview.tsx (169 lines)
   - TemplateTestDialog.tsx (164 lines)

**ê²°ê³¼ë¬¼**:
- 7ê°œ ì»´í¬ë„ŒíŠ¸ (~1,510 lines)
- ì™„ì „í•œ í…œí”Œë¦¿ ê´€ë¦¬ ì‹œìŠ¤í…œ
- ë¬¸ì„œ: [PHASE3_COMPLETE.md](../../PHASE3_COMPLETE.md)

---

### âœ… Phase 4: ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ (ì™„ë£Œ - 2025-11-04)
**ì†Œìš” ì‹œê°„**: ~3ì‹œê°„

1. âœ… **ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ**
   - Recharts ì°¨íŠ¸ (Area, Pie, Bar)
   - ì‹œê°„ëŒ€ë³„ í•„í„° (1h, 24h, 7d, 30d)
   - ì‹¤ì‹œê°„ í†µê³„ (Total Jobs, Success Rate, Avg Time, Quality)
   - íƒ­ ì¸í„°í˜ì´ìŠ¤ (Hourly Activity, Status, Quality)

2. âœ… **Job ëª©ë¡ í˜ì´ì§€**
   - í•„í„°ë§ & ê²€ìƒ‰ (status, job ID)
   - ì •ë ¬ (date, duration, quality)
   - í˜ì´ì§€ë„¤ì´ì…˜ (20/50/100 per page)

3. âœ… **Job ìƒì„¸ ë·°ì–´**
   - Agent ì‹¤í–‰ íƒ€ì„ë¼ì¸
   - ë‹¨ê³„ë³„ ë¡œê·¸ (input/output)
   - í’ˆì§ˆ ì ìˆ˜ ë¶„ì„
   - ìƒì„±ëœ Persona/Room í‘œì‹œ

**ê²°ê³¼ë¬¼**:
- 3ê°œ í˜ì´ì§€ (~1,149 lines)
- ì™„ì „í•œ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ
- ë¬¸ì„œ: [PHASE4_COMPLETE.md](../../PHASE4_COMPLETE.md)

---

### âœ… Phase 5: ë°ì´í„° í’€ ê´€ë¦¬ UI (ì™„ë£Œ - 2025-11-04)
**ì†Œìš” ì‹œê°„**: ~4ì‹œê°„

1. âœ… **ê²½í—˜ í’€ ê´€ë¦¬**
   - ëª©ë¡ í˜ì´ì§€ (ì¹´í…Œê³ ë¦¬ í•„í„°, ê²€ìƒ‰)
   - Create/Edit í¼ (ë™ì  learnings, íŠ¸ë¦¬ê±° ì„¤ì •)

2. âœ… **ì•„í‚¤íƒ€ì… í’€ ê´€ë¦¬**
   - ëª©ë¡ í˜ì´ì§€ (visual ë¯¸ë¦¬ë³´ê¸°)
   - Create/Edit í¼ (3ê°œ íƒ­: Basic, Visual, Conversation)

3. âœ… **ì‹œê° ìš”ì†Œ í’€ ê´€ë¦¬**
   - ëª©ë¡ í˜ì´ì§€ (ì¹´í…Œê³ ë¦¬ í•„í„°, weight ë±ƒì§€)
   - Create/Edit í¼ (í”„ë¡¬í”„íŠ¸ ì¡°ê° ì—ë””í„°)

**ê²°ê³¼ë¬¼**:
- 6ê°œ í˜ì´ì§€ (~2,511 lines)
- ì™„ì „í•œ ë°ì´í„° í’€ ê´€ë¦¬ ì‹œìŠ¤í…œ
- ë¬¸ì„œ: [PHASE5_COMPLETE.md](../../PHASE5_COMPLETE.md)

---

### ğŸ“‹ Phase 6: í…ŒìŠ¤íŠ¸ & ë°°í¬ (ì§„í–‰ ì˜ˆì •)
**ì˜ˆìƒ ì†Œìš”**: 1-2ì£¼

1. [ ] í†µí•© í…ŒìŠ¤íŠ¸
2. [ ] E2E í…ŒìŠ¤íŠ¸
3. [ ] ì„±ëŠ¥ ìµœì í™”
4. [ ] UI/UX ê°œì„ 

---

**ì „ì²´ ì§„í–‰ ìƒí™©**:
- âœ… ì™„ë£Œ: Phase 1-5 (17ì‹œê°„ íˆ¬ì…)
- ğŸ“‹ ë‚¨ì€ ì‘ì—…: Phase 6 (1-2ì£¼ ì˜ˆìƒ)
- ğŸ“Š ì§„í–‰ë¥ : ~85%

---

## ğŸ“ ìš”ì•½

### ê´€ë¦¬ì ì—­í•  (ìµœì†Œí™”)
âœ… ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ **í…œí”Œë¦¿** ì‘ì„±
âœ… ì—ì´ì „íŠ¸ I/O **ìŠ¤í‚¤ë§ˆ** ì •ì˜
âœ… **ë°ì´í„° í’€** ê´€ë¦¬ (ê²½í—˜, ì•„í‚¤íƒ€ì…, ì‹œê° ìš”ì†Œ)
âœ… ì—ì´ì „íŠ¸ ì‹¤í–‰ **ëª¨ë‹ˆí„°ë§**

### ì—ì´ì „íŠ¸ ì—­í•  (ì™„ì „ ìë™)
ğŸ¤– ì˜¨ë³´ë”© ë°ì´í„° â†’ ìš•êµ¬ ë²¡í„° ë¶„ì„
ğŸ¤– ìºë¦­í„° í”„ë¡œíŒŒì¼ ìë™ ìƒì„±
ğŸ¤– ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì¡°ë¦½
ğŸ¤– ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ìƒì„± + ì´ë¯¸ì§€ ìƒì„±
ğŸ¤– í’ˆì§ˆ ê²€ì¦ + ì¬ì‹œë„

**í•µì‹¬**: ê´€ë¦¬ìëŠ” "í‹€"ë§Œ ë§Œë“¤ê³ , ì—ì´ì „íŠ¸ê°€ "ë‚´ìš©"ì„ ì±„ì›ë‹ˆë‹¤!
