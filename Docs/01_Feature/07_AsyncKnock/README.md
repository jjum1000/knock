# 비동기 노크 시스템 (Async Knock System)

## 개요
AI 페르소나가 먼저 사용자에게 메시지를 보내는 시스템으로, 특정 조건 충족 시 자동으로 메시지를 생성하여 사용자의 재접속을 유도합니다.

## 핵심 가치
- **능동적 AI**: 사용자를 기다리는 것이 아닌 먼저 다가가는 AI 경험
- **재참여 유도**: 자연스러운 방식으로 사용자의 재방문 유도
- **개인화된 메시지**: 관계 및 메모리 기반 맞춤 메시지 생성

## 주요 기능

### 1. 자동 노크 트리거 (기본)
- **조건 1**: 24시간 이상 미접속 (룸메이트)
- **조건 2**: 새로운 이웃 방문 시 (룸메이트)
- **조건 3**: 관련 주제 대화 시 (특정 이웃)

### 2. 메시지 생성 (강화)
- LLM 기반 맥락적 메시지 자동 생성
- 관계 레벨 및 메모리 반영
- 자연스러운 말투

### 3. UI 표시
- 방 블록에 '읽지 않은 메시지' 배지
- 알림 센터에 메시지 목록
- 푸시 알림 (선택)

## 문서 구성

- [기능 명세서](./feature-spec.md) - 상세 기능 정의 및 요구사항
- [사용자 플로우](./user-flow.md) - 노크 발생 및 응답 프로세스
- [기술 스펙](./tech-spec.md) - API, 스케줄러, 메시지 생성 명세

## 의존성

### 선행 요구사항
- [대화 시스템](../04_Chat/README.md) - 메시지 표시 및 응답
- [메모리 시스템](../05_Memory/README.md) - 메모리 기반 메시지 생성
- [관계 역학 시스템](../06_Relationship/README.md) - 관계 기반 메시지 톤 조절

### 연관 시스템
- [알림 시스템](../09_Notification/README.md) - 푸시 알림 전송

## 성공 지표 (KPI)
- 비동기 노크 수신 후 재방문율 (24시간 이내)
- 평균 응답 시간 (노크 수신 후 첫 응답까지)
- 노크 메시지 오픈율
- 사용자 피드백 (긍정/부정 반응)
