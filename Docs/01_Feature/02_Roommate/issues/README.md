# 룸메이트 피쳐 이슈 및 태스크 관리

## 목적
룸메이트 피쳐 개발 중 발생하는 이슈, 결정 사항, 우선순위 변경 등을 체계적으로 관리합니다.

---

## 현재 주요 이슈

### 🔴 CRITICAL - 즉시 해결 필요

#### ISSUE-001: 시스템 프롬프트 생성 규칙 정의
**상태**: 🔴 Open
**우선순위**: P0 (Blocking)
**담당**: -
**생성일**: 2025-10-28

**문제**:
- 대화 방법론과 행동 패턴을 어떻게 시스템 프롬프트로 병합할지 명확한 규칙이 없음
- 구조화된 템플릿과 동적 생성 로직 필요

**요구사항**:
1. 시스템 프롬프트 구조 설계 (섹션별 분리)
2. 대화 방법론 → 프롬프트 규칙 변환 로직
3. 행동 패턴 → 프롬프트 규칙 변환 로직
4. 개인화 데이터 병합 알고리즘
5. 프롬프트 최대 길이 제한 (4,000자) 고려

**관련 문서**:
- [대화 방법론](../conversation-methodologies/README.md)
- [행동 패턴](../behavior-patterns/README.md)

**다음 액션**:
- [ ] 시스템 프롬프트 템플릿 구조 설계 문서 작성
- [ ] 방법론별 프롬프트 규칙 예시 3개 작성
- [ ] 병합 알고리즘 의사코드 작성

---

#### ISSUE-002: 대화 방법론 우선순위 및 선택 알고리즘
**상태**: 🔴 Open
**우선순위**: P0 (Blocking)
**담당**: -
**생성일**: 2025-10-28

**문제**:
- 사용자 데이터 기반으로 어떤 대화 방법론을 선택할지 명확한 기준 없음
- 여러 방법론을 조합할 때 우선순위 및 가중치 설정 필요

**요구사항**:
1. 사용자 프로필 타입 정의 (예: 내향형-분석형, 외향형-감성형 등)
2. 타입별 최적 방법론 매핑 테이블
3. 방법론 조합 시 가중치 계산 알고리즘
4. MVP에 포함할 방법론 3-5개 선정

**현재 제안**:
- MVP: 로저스 인본주의, 한국형 대화 패턴, 온라인 대화 문화
- 이유: 보편적 적용 가능, 친밀감 형성 우선

**다음 액션**:
- [ ] 사용자 프로필 타입 정의 (5-10개)
- [ ] 방법론 매핑 테이블 작성
- [ ] MVP 방법론 3개 상세 문서 작성 시작

---

#### ISSUE-003: 룸 이미지 생성 API 선택 및 비용 최적화
**상태**: 🟡 In Progress
**우선순위**: P1 (High)
**담당**: -
**생성일**: 2025-10-28

**문제**:
- Gemini Imagen vs Stable Diffusion 최종 결정 필요
- 픽셀아트 스타일 품질 보장 방법 불확실

**현재 상태**:
- Gemini Imagen 사용 결정 (MVP)
- 테스트 필요: 픽셀아트 스타일 프롬프트 품질

**요구사항**:
1. Gemini Imagen으로 픽셀아트 생성 테스트 (10회)
2. 프롬프트 엔지니어링으로 품질 개선
3. 품질 미달 시 Fallback 프리셋 이미지 5개 제작
4. 비용 모니터링 대시보드 구축

**다음 액션**:
- [ ] Gemini Imagen API 테스트 계정 설정
- [ ] 픽셀아트 생성 테스트 (프롬프트 5개 버전)
- [ ] 프리셋 이미지 5개 디자인 의뢰
- [ ] 비용 계산 스프레드시트 작성

---

### 🟡 HIGH - 중요하지만 Blocking 아님

#### ISSUE-004: 행동 패턴 빈도 제어 및 스팸 방지
**상태**: 🟡 Open
**우선순위**: P1 (High)
**담당**: -
**생성일**: 2025-10-28

**문제**:
- 행동 패턴이 과도하면 사용자가 스팸으로 인식할 수 있음
- 적절한 빈도 제어 규칙 필요

**요구사항**:
1. 행동 타입별 최대 빈도 정의 (일/주 단위)
2. 최소 간격 설정 (분 단위)
3. 사용자 설정 옵션 (ON/OFF, 빈도 조절)
4. A/B 테스트 계획 수립

**현재 제안** ([behavior-patterns/README.md](../behavior-patterns/README.md#행동-빈도-제어) 참고):
```
- 혼자말: 최대 2회/일, 최소 6시간 간격
- 대화 시도: 최대 3회/일, 최소 3시간 간격
- 스크랩: 최대 1회/일, 24시간 간격
```

**다음 액션**:
- [ ] 빈도 제어 로직 구현 (TypeScript)
- [ ] 사용자 설정 UI 목업 작성
- [ ] A/B 테스트 계획 문서 작성

---

#### ISSUE-005: 대화 메모리 시스템 범위 정의
**상태**: 🟡 Open
**우선순위**: P2 (Medium)
**담당**: -
**생성일**: 2025-10-28

**문제**:
- 행동 패턴 중 "리마인더/체크인"은 대화 기록 분석 필요
- 메모리 시스템 범위가 불명확 (세션 vs 영구)

**요구사항**:
1. MVP: 세션 메모리만 (대화 중 맥락 유지)
2. Phase 2: 영구 메모리 (중요 정보 저장)
3. Phase 3: 리마인더 기능 (행동 패턴 연동)

**관련 문서**:
- [메모리 시스템](../../06_Memory/README.md)

**다음 액션**:
- [ ] 메모리 시스템 기능 명세 리뷰
- [ ] 룸메이트 피쳐와 통합 지점 정의
- [ ] Phase별 개발 계획 조정

---

### 🟢 NORMAL - 일반 우선순위

#### ISSUE-006: 대화 방법론 문서 작성 분담
**상태**: 🟢 Open
**우선순위**: P2 (Medium)
**담당**: -
**생성일**: 2025-10-28

**문제**:
- 10개 이상의 대화 방법론 문서 작성 필요
- 작업량 많음, 우선순위 설정 필요

**MVP 우선순위**:
1. [로저스 인본주의 상담](../conversation-methodologies/rogers-humanistic.md) - P0
2. [한국형 대화 패턴](../conversation-methodologies/korean-conversation.md) - P0
3. [온라인 대화 문화](../conversation-methodologies/online-conversation.md) - P0
4. [FBI 협상 기법](../conversation-methodologies/fbi-negotiation.md) - P1
5. [코칭 대화법](../conversation-methodologies/coaching-conversation.md) - P1

**다음 액션**:
- [ ] P0 방법론 3개 문서 작성 (각 2-3시간 예상)
- [ ] 문서 템플릿 표준화
- [ ] 리뷰 프로세스 정의

---

#### ISSUE-007: 룸메이트 프로필 UI 디자인
**상태**: 🟢 Open
**우선순위**: P2 (Medium)
**담당**: -
**생성일**: 2025-10-28

**문제**:
- 현재 문서에는 텍스트 목업만 있음
- 실제 UI 디자인 필요

**요구사항**:
1. 룸메이트 프로필 화면 디자인 (Figma)
2. 키워드 표시 컴포넌트 디자인
3. 행동 패턴 알림 디자인 (혼자말, 스크랩 등)
4. 픽셀아트 스타일 일관성 유지

**다음 액션**:
- [ ] UI/UX 디자이너와 협의
- [ ] Figma 목업 작성
- [ ] 프론트엔드 컴포넌트 구현 계획

---

## 결정 사항 (Decisions)

### DEC-001: 대화 방법론 다양성 우선
**날짜**: 2025-10-28
**결정**: 단일 방법론이 아닌 다양한 방법론 조합으로 캐릭터 생성
**이유**:
- 사용자별 다양한 성격과 선호도 커버
- 획일적인 대화 스타일 방지
- 장기적으로 확장 가능한 구조

**영향**:
- 시스템 프롬프트 복잡도 증가
- 방법론 선택 알고리즘 필요
- 문서 작업량 증가

---

### DEC-002: 행동 패턴 캐릭터성 기반 결정
**날짜**: 2025-10-28
**결정**: 행동 패턴 활성화는 대화 방법론에서 정의된 캐릭터성에 따름
**이유**:
- 일관된 캐릭터 경험
- 모든 룸메이트가 동일한 행동을 하면 개성 없음
- 사용자 맞춤화

**예시**:
- 활발한 성격 → 대화 시도 빈도 높음
- 차분한 성격 → 혼자말 위주
- 정보 공유형 → 스크랩 빈도 높음

---

### DEC-003: 룸 이미지 생성 API - Gemini Imagen (MVP)
**날짜**: 2025-10-28
**결정**: MVP는 Gemini Imagen 사용, 향후 Stable Diffusion 고려
**이유**:
- 기존 Gemini API와 통합 용이
- 무료 티어로 초기 테스트 가능
- 빠른 생성 속도

**Fallback**: 프리셋 이미지 5개 준비

---

### DEC-004: 시스템 프롬프트 구조 - 중첩 구조 (옵션 B)
**날짜**: 2025-10-28
**결정**: 섹션별 병합이 아닌 계층적 중첩 구조 사용
**이유**:
- 대화 규칙과 행동 규칙을 명확히 분리
- 확장성 높음 (새로운 섹션 추가 용이)
- LLM이 구조를 더 잘 이해

**구조**:
```
[기본 역할]
  ├─ [대화 규칙]
  │   ├─ [방법론: Rogers]
  │   └─ [개인화]
  └─ [행동 규칙]
      ├─ [혼자말]
      └─ [대화 시도]
```

---

## 우선순위 기준

- **P0 (Blocking)**: MVP 개발을 막는 이슈, 즉시 해결 필요
- **P1 (High)**: MVP에 포함되어야 하지만 Blocking은 아님
- **P2 (Medium)**: Phase 2 또는 개선 단계
- **P3 (Low)**: Nice-to-have, 우선순위 낮음

---

## 이슈 템플릿

새로운 이슈 추가 시:

```markdown
#### ISSUE-XXX: [이슈 제목]
**상태**: 🔴/🟡/🟢 Open | In Progress | Resolved
**우선순위**: P0-P3
**담당**: [이름]
**생성일**: YYYY-MM-DD

**문제**:
[문제 설명]

**요구사항**:
1. [요구사항 1]
2. [요구사항 2]

**다음 액션**:
- [ ] [액션 아이템 1]
- [ ] [액션 아이템 2]
```

---

## 관련 문서
- [대화 방법론](../conversation-methodologies/README.md)
- [행동 패턴](../behavior-patterns/README.md)
- [룸 이미지 생성](../room-generation/README.md)
- [기능 명세](../feature-spec.md)
