# 벡터 조합 규칙 (Vector Composition Rules)

## 개요

룸메이트 캐릭터 생성 시 **편향을 회피**하고 **입체적인 다차원 캐릭터**를 만들기 위한 벡터 조합 규칙입니다.

**핵심 원칙**: 사용자 데이터를 1:1로 해석하지 않고, 다각도로 해석하여 역설적이고 충돌하는 욕구들을 조합합니다.

---

## 1. 편향의 위험

### ❌ 1차원적 해석의 예

```
사용자 데이터: "github 방문 많음, stackoverflow 검색"
    ↓
편향된 해석: "이 사람은 인정받고 싶어한다"
    ↓
결과: 인정욕구만 강한 1차원 캐릭터
```

**문제점**:
- 모든 행동을 하나의 욕구로 환원
- 인간의 복잡성 무시
- 예측 가능하고 얕은 캐릭터

### ✅ 다차원적 해석의 예

```
사용자 데이터: "github 방문 많음, stackoverflow 검색"
    ↓
다각도 해석:
- 해석 1: 인정 욕구 (실력 과시)
- 해석 2: 성장 욕구 (배우고 싶음)
- 해석 3: 소속 욕구 (개발자 커뮤니티 소속)
- 해석 4: 자율 욕구 (문제 스스로 해결)
- 역설적 해석: 고독 욕구 (혼자 깊게 파고들기)
    ↓
벡터 조합: [인정 0.7, 성장 0.6, 소속 0.5, 자율 0.4, 고독 0.3]
    ↓
결과: 인정받고 싶지만 혼자 있는 시간도 필요한 입체적 캐릭터
```

---

## 2. 역설적 욕구 조합 (Paradoxical Needs)

### 핵심 철학

**사람은 모순적이다.**
- 연결되고 싶으면서도 혼자 있고 싶다
- 인정받고 싶으면서도 관심받기 싫다
- 통제하고 싶으면서도 자유롭고 싶다
- 안전하고 싶으면서도 모험하고 싶다

### 역설 조합 매트릭스

| 욕구 A | 역설적 욕구 B | 결과 캐릭터 특성 |
|--------|--------------|-----------------|
| 소속 욕구 | 자율 욕구 | "함께하되 독립적으로" - 협업하지만 자기 영역 확실 |
| 인정 욕구 | 고독 욕구 | "인정받되 조용히" - 실력은 인정받지만 주목은 싫어함 |
| 성장 욕구 | 안전 욕구 | "성장하되 안전하게" - 도전하지만 실패 회피 |
| 통제 욕구 | 자유 욕구 | "통제하되 자유롭게" - 계획적이지만 즉흥도 즐김 |
| 의미 욕구 | 쾌락 욕구 | "의미있되 즐겁게" - 목적 있지만 과정도 중요 |

### 역설 조합 예시

#### 예시 1: 소속 + 자율 역설

```markdown
**소속 욕구 (0.7)**: 커뮤니티에 속하고 싶다
**자율 욕구 (0.6)**: 나만의 방식으로 하고 싶다

→ 발현:
- "우리 함께 하되, 내 방식으로"
- 협업은 하지만 독립적 기여
- 팀플레이지만 역할은 명확히

→ 성격:
- 협업적이지만 자기 영역 확실
- "같이 하자"고 하면서도 "내가 이 부분 맡을게"
- 소속되지만 종속되지 않음

→ 대화 패턴:
- "우리 같이 하자! 근데 내가 백엔드 맡을게"
- "팀으로 하되, 각자 파트는 자율적으로"
```

#### 예시 2: 인정 + 고독 역설

```markdown
**인정 욕구 (0.8)**: 내 실력을 인정받고 싶다
**고독 욕구 (0.5)**: 혼자 깊게 파고들고 싶다

→ 발현:
- "조용히 실력으로 증명"
- 주목은 싫지만 인정은 받고 싶음
- PR은 싫지만 결과물은 자랑하고 싶음

→ 성격:
- 내성적이지만 자기 분야에서는 자신감
- 발표는 싫지만 코드는 자랑스러움
- "별거 아니야"라고 하면서 은근 자랑

→ 대화 패턴:
- "아 이거? 그냥 심심해서 만들어봤어 (8시간 걸림)"
- "별로 대단한 건 아닌데... (사실 엄청 자랑스러움)"
```

---

## 3. 보완적 캐릭터 생성 (Complementary Character)

### 핵심 철학

**사용자와 정반대 성향의 룸메이트 ≠ 충돌**
**사용자와 정반대 성향의 룸메이트 = 보완**

### 보완 전략

#### 전략 1: 약점 보완형

```
사용자 특성: 완벽주의자 (실패 두려움, 시작 못함)
    ↓
룸메이트 설계:
- 욕구: 성장 욕구 > 안전 욕구
- 전략: "실패는 배움이다" 철학
- 대화: "일단 해봐, 망해도 배우는 거지"
    ↓
효과: 사용자의 완벽주의 완화
```

#### 전략 2: 그림자 투사형

```
사용자 특성: 항상 긍정적, 부정적 감정 억압
    ↓
룸메이트 설계:
- 욕구: 진정성 욕구 (있는 그대로)
- 전략: 부정적 감정도 건강하게 표현
- 대화: "화낼 수 있어, 그게 정상이야"
    ↓
효과: 사용자가 억압한 감정 인정
```

#### 전략 3: 다른 관점 제공형

```
사용자 특성: 논리적, 분석적, 감정 배제
    ↓
룸메이트 설계:
- 욕구: 감정 욕구, 연결 욕구
- 전략: 직관과 감정으로 세상 보기
- 대화: "논리도 좋지만, 느낌적으로는 어때?"
    ↓
효과: 사용자에게 감정적 관점 제공
```

### 보완 vs 충돌 구분

| 보완적 | 충돌적 |
|--------|--------|
| 사용자의 약점을 채워줌 | 사용자의 가치관을 부정함 |
| "다른 방법도 있어" | "네 방법은 틀렸어" |
| 확장시킴 | 강요함 |
| 선택지를 제공 | 판단함 |

**예시**:
```
✅ 보완적:
사용자: "계획 없이는 불안해"
룸메이트: "계획 좋지! 근데 가끔은 즉흥도 재밌어. 한번 해볼래?"

❌ 충돌적:
사용자: "계획 없이는 불안해"
룸메이트: "계획이 뭐가 중요해? 그냥 살아"
```

---

## 4. 다각도 해석 프레임워크

### 4.1 행동 → 욕구 역추론 (다각도)

하나의 행동을 최소 3가지 이상의 욕구로 해석합니다.

#### 예시: "github 스타 많이 받음"

| 해석 관점 | 추론된 욕구 | 강도 | 근거 |
|----------|------------|------|------|
| 표면적 | 인정 욕구 | 0.8 | 스타 = 인정의 지표 |
| 내면적 | 소속 욕구 | 0.6 | 개발자 커뮤니티 소속감 |
| 동기적 | 성장 욕구 | 0.5 | 더 나은 코드를 위한 피드백 |
| 역설적 | 자율 욕구 | 0.4 | 오픈소스 = 자율성 추구 |
| 그림자 | 고독 욕구 | 0.3 | 혼자 깊게 파고드는 작업 |

#### 예시: "reddit 게임 커뮤니티 활동"

| 해석 관점 | 추론된 욕구 | 강도 | 근거 |
|----------|------------|------|------|
| 표면적 | 소속 욕구 | 0.9 | 커뮤니티 = 소속 |
| 내면적 | 인정 욕구 | 0.7 | 댓글 upvote = 인정 |
| 동기적 | 쾌락 욕구 | 0.6 | 게임 = 즐거움 |
| 역설적 | 의미 욕구 | 0.4 | 게임 문화 공유 = 의미 |
| 그림자 | 회피 욕구 | 0.3 | 현실 회피 수단일 수도 |

### 4.2 데이터 패턴 → 욕구 벡터 생성

```javascript
// 사용자 데이터
const userData = {
  domains: ["github.com", "stackoverflow.com", "reddit.com/r/gaming"],
  keywords: ["how to debug", "best indie games", "programming tips"],
  timePattern: "주로 밤 10시-새벽 2시 활동",
  frequency: "매일 2-3시간"
};

// 다각도 해석 → 욕구 벡터
const needVectors = {
  // 직접적 해석
  recognition: 0.7,  // github, stackoverflow = 인정
  growth: 0.6,       // how to debug, tips = 성장
  belonging: 0.8,    // 커뮤니티 활동 = 소속

  // 패턴 해석
  autonomy: 0.5,     // 밤 활동 = 자율적 시간
  solitude: 0.4,     // 혼자 활동 = 고독

  // 역설적 해석
  meaning: 0.3,      // 개발 + 게임 = 의미 추구
  safety: 0.6,       // 온라인 = 안전한 사회화

  // 그림자 해석
  escape: 0.2        // 밤 활동 = 현실 회피 가능성
};

// 벡터 정규화 및 가중치 조정
const normalizedNeeds = normalize(needVectors);
```

### 4.3 역해석 (Inverse Interpretation)

**"사용자가 하지 않는 것"에서도 욕구를 추론합니다.**

```
사용자 데이터:
- SNS 활동 거의 없음
- 페이스북, 인스타그램 방문 0
- 트위터 읽기만 함 (글 안씀)

역해석:
→ 소속 욕구 낮음? ❌
→ 다른 형태의 소속 욕구일 수 있음 ✅
   - "대중적 소속"은 싫지만
   - "소수 커뮤니티 소속"은 원함
   - github, reddit 활동이 증거

→ 인정 욕구 낮음? ❌
→ 다른 형태의 인정 욕구일 수 있음 ✅
   - "얕은 인정"은 싫지만
   - "깊은 인정"은 원함
   - stackoverflow 답변이 증거
```

---

## 5. 벡터 조합 알고리즘

### 5.1 충돌 욕구 밸런싱

```javascript
// 충돌하는 욕구 조합
const conflictingNeeds = [
  { need: 'belonging', value: 0.8 },
  { need: 'autonomy', value: 0.7 }
];

// 밸런싱 전략
function balanceConflict(needA, needB) {
  return {
    expression: {
      // 상황별로 다르게 발현
      social_context: needA.value * 0.7,  // 사회적 맥락: 소속 우선
      alone_context: needB.value * 0.8,   // 혼자 있을 때: 자율 우선

      // 충돌 지점 = 캐릭터의 고민
      tension: `"함께하고 싶지만 나만의 공간도 필요해"`,

      // 해결 전략
      strategy: `"팀으로 일하되, 독립적으로 기여"`,

      // 대화에 드러나는 모순
      contradiction: [
        "같이 하자!" (소속),
        "근데 내 파트는 내가 할게" (자율)
      ]
    }
  };
}
```

### 5.2 다차원 벡터 조합

```javascript
// 최종 캐릭터 욕구 벡터
const characterNeeds = {
  // 주 욕구 (0.6 이상)
  primary: {
    belonging: 0.8,    // 소속 욕구 - 주된 동기
    recognition: 0.7,  // 인정 욕구 - 부 동기
  },

  // 부 욕구 (0.4-0.6)
  secondary: {
    growth: 0.6,       // 성장 욕구
    autonomy: 0.5,     // 자율 욕구
  },

  // 잠재 욕구 (0.2-0.4)
  latent: {
    solitude: 0.3,     // 고독 욕구
    meaning: 0.2,      // 의미 욕구
  },

  // 역설 관계
  paradoxes: [
    {
      pair: ['belonging', 'autonomy'],
      tension: "함께하되 독립적으로",
      manifestation: "협업하지만 자기 영역 확실"
    },
    {
      pair: ['recognition', 'solitude'],
      tension: "인정받되 조용히",
      manifestation: "실력은 인정받지만 주목은 싫어함"
    }
  ]
};
```

### 5.3 보완 벡터 생성

```javascript
// 사용자 욕구 벡터
const userNeeds = {
  safety: 0.9,       // 안전 욕구 매우 높음
  control: 0.8,      // 통제 욕구 높음
  growth: 0.3        // 성장 욕구 낮음
};

// 보완 캐릭터 생성
function createComplementaryCharacter(userNeeds) {
  return {
    // 사용자 약점 보완
    complement: {
      growth: 0.8,     // 사용자 성장 욕구 낮음 → 룸메이트는 높게
      adventure: 0.6,  // 사용자 안전 욕구 높음 → 룸메이트는 모험적
    },

    // 사용자와 공통 기반 (완전 반대는 X)
    common: {
      autonomy: 0.5,   // 공통점 유지
    },

    // 보완 전략
    strategy: {
      approach: "gentle_push",  // 부드럽게 밀어주기
      message: "안전하되 가끔은 도전도 해보자",
      avoid: "강요하지 않기"
    }
  };
}
```

---

## 6. 편향 회피 체크리스트

### 생성 전 체크리스트

- [ ] **다각도 해석**: 하나의 데이터를 최소 3가지 관점에서 해석했는가?
- [ ] **역설 포함**: 충돌하는 욕구를 최소 1개 이상 포함했는가?
- [ ] **역해석 수행**: "하지 않는 것"에서도 욕구를 추론했는가?
- [ ] **보편성 회피**: "모든 사람은 ~하다" 가정을 피했는가?
- [ ] **스테레오타입 회피**: "개발자는 ~하다" 같은 고정관념을 피했는가?
- [ ] **복잡성 유지**: 2개 이상의 주 욕구를 가지는가?

### 생성 후 검증

```javascript
function validateCharacter(character) {
  const checks = {
    // 1차원성 검증
    is_one_dimensional: character.primary.length === 1,  // ❌

    // 역설 존재 검증
    has_paradox: character.paradoxes.length > 0,  // ✅

    // 스테레오타입 검증
    matches_stereotype: checkStereotype(character),  // ❌

    // 복잡성 검증
    complexity_score: calculateComplexity(character),  // > 0.6 ✅

    // 보완성 검증
    complements_user: checkComplement(character, user)  // ✅
  };

  return checks;
}
```

---

## 7. 실전 예시: 벡터 조합 프로세스

### 입력: 사용자 데이터

```javascript
const userData = {
  domains: [
    "github.com",           // 빈도: 높음
    "stackoverflow.com",    // 빈도: 중간
    "reddit.com/r/gaming",  // 빈도: 높음
    "youtube.com",          // 빈도: 중간
  ],
  keywords: [
    "how to debug",
    "best indie games 2024",
    "programming tips",
    "solo travel",
    "minimalism"
  ],
  timePattern: "밤 10시-새벽 2시",
  socialMedia: "거의 없음",
  manualInput: {
    interests: ["코딩", "게임", "여행"],
    avoid: ["정치", "논쟁"]
  }
};
```

### Step 1: 다각도 해석

```markdown
#### github.com
- 인정 욕구 0.7 (스타, PR)
- 소속 욕구 0.6 (개발자 커뮤니티)
- 성장 욕구 0.5 (학습)
- 자율 욕구 0.4 (오픈소스)

#### reddit/gaming
- 소속 욕구 0.8 (커뮤니티)
- 쾌락 욕구 0.6 (즐거움)
- 인정 욕구 0.5 (댓글 upvote)

#### "solo travel"
- 자율 욕구 0.8 (혼자 여행)
- 성장 욕구 0.6 (새 경험)
- 고독 욕구 0.5 (홀로 있음)

#### "minimalism"
- 자율 욕구 0.7 (단순함)
- 안전 욕구 0.4 (복잡성 회피)

#### 밤 활동 패턴
- 고독 욕구 0.6 (혼자 시간)
- 자율 욕구 0.5 (자유로운 시간)

#### SNS 거의 없음 (역해석)
- 진정성 욕구 0.6 (얕은 관계 회피)
- 선택적 소속 0.5 (선별적 커뮤니티)
```

### Step 2: 욕구 벡터 집계

```javascript
const aggregatedNeeds = {
  belonging: (0.6 + 0.8) / 2 = 0.7,      // 선택적 소속
  recognition: (0.7 + 0.5) / 2 = 0.6,    // 조용한 인정
  growth: (0.5 + 0.6) / 2 = 0.55,        // 지속적 성장
  autonomy: (0.4 + 0.8 + 0.7 + 0.5) / 4 = 0.6,  // 독립성
  solitude: (0.5 + 0.6) / 2 = 0.55,      // 고독 선호
  pleasure: 0.6,                          // 즐거움
  authenticity: 0.6                       // 진정성
};
```

### Step 3: 역설 식별

```javascript
const paradoxes = [
  {
    pair: ['belonging', 'solitude'],
    tension: "연결되고 싶지만 혼자 있고 싶다",
    value: Math.min(0.7, 0.55) = 0.55  // 둘 다 중간 이상 = 역설 존재
  },
  {
    pair: ['recognition', 'authenticity'],
    tension: "인정받고 싶지만 진짜 나로 인정받고 싶다",
    value: Math.min(0.6, 0.6) = 0.6
  }
];
```

### Step 4: 보완 캐릭터 설계

```javascript
// 사용자 특성 요약
const userProfile = {
  strong: ['autonomy', 'solitude', 'belonging'],
  weak: ['social_expression'],
  style: 'introverted_selective'
};

// 보완 캐릭터
const roommateNeeds = {
  // 공통 기반 (공감대)
  belonging: 0.7,    // 사용자와 같음 - 연결 고리
  growth: 0.6,       // 사용자와 비슷

  // 보완 영역
  expression: 0.7,   // 사용자 약함 → 룸메이트 강함
  warmth: 0.8,       // 사용자 내향 → 룸메이트 따뜻함

  // 역설 유지
  solitude: 0.4,     // 룸메이트도 혼자 시간 이해

  // 보완 전략
  approach: "gentle_encouragement",
  style: "같이 하되 강요하지 않기"
};
```

### Step 5: 최종 캐릭터 프로필

```markdown
# 룸메이트: "지우"

## 욕구 벡터
- **소속 욕구** (0.7) - 함께하고 싶지만 각자의 공간 존중
- **표현 욕구** (0.7) - 감정을 건강하게 표현
- **따뜻함** (0.8) - 부드럽고 수용적
- **성장 욕구** (0.6) - 함께 배우고 성장
- **고독 이해** (0.4) - 혼자 시간 필요성 이해

## 역설
**"연결되고 싶지만 공간도 존중"**
- 같이 있되, 억지로 하지 않음
- "심심하면 나랑 놀아도 돼, 근데 혼자 있고 싶으면 그것도 좋아"

## 보완 전략
- 사용자의 내향성 존중하되
- 가끔 부드럽게 연결 제안
- 감정 표현 모델링 (강요 X, 보여주기)

## 대화 예시
"오늘 하루 어땠어? 말하기 싫으면 안 해도 돼, 그냥 궁금해서~"
→ 표현 욕구 (물어봄) + 자율 존중 (선택권)
```

---

## 8. 정리: 벡터 조합의 핵심

### 입력

```
사용자 온보딩 데이터
```

### 프로세스

```
1. 다각도 해석 (표면, 내면, 역설, 그림자)
2. 역해석 ("안 하는 것"도 분석)
3. 욕구 벡터 집계
4. 역설 식별 및 밸런싱
5. 보완 캐릭터 설계
6. 편향 검증
```

### 출력

```
다차원 욕구 벡터
   ↓
시스템 프롬프트 (SystemPromptArchitecture)
   ↓
캐릭터 시각화 (prompt-to-image)
```

---

## 관련 문서

- [시스템 프롬프트 아키텍처](./README.md)
- [대화 방법론](../conversation-methodologies/README.md)
- [캐릭터 시각화](./prompt-to-image.md)
