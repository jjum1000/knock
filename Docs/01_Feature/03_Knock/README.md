# 노크 시스템 (Knock System)

## 개요
Knock 서비스의 핵심 메커니즘으로, 1일 1회 이웃 노크를 통해 새로운 AI 페르소나와 공간을 발견하는 시스템입니다. 사용자는 매일 블랙아웃된 주변 영역을 하나씩 해제하며, 기존 AI와는 다른 관심사를 가진 새로운 이웃을 만나게 됩니다.

## 핵심 가치
- **일일 발견의 즐거움**: 1일 1회 제한으로 인한 기대감 조성
- **콘텐츠 다양성**: 기존 AI와 차별화된 새로운 관심사 기반 이웃 생성
- **공간 확장 경험**: 블랙아웃 해제를 통한 시각적 성장감
- **재방문 유도**: 매일 00시 초기화를 통한 습관 형성

## 주요 기능

### 1. 1일 1회 노크
- 매일 00시 자정 노크 가능 횟수 초기화
- 무료: 1회 / 유료: 무제한 또는 추가 이용권
- 노크 횟수 UI 표시 (예: 🔔 1/1)

### 2. 새로운 이웃 생성
- 인접 위치에 랜덤 방 1개 생성
- 기존 AI와 다른 관심사 기반 페르소나 자동 생성
- 블랙아웃 영역 해제

### 3. 콘텐츠 다양성 알고리즘
- 기존 AI 관심사 분석
- 미커버 주제 풀에서 새로운 관심사 선택
- 예: 룸메이트(게임/영화) → 이웃1(여행/철학)

## 문서 구성

- [기능 명세서](./feature-spec.md) - 상세 기능 정의 및 요구사항
- [사용자 플로우](./user-flow.md) - 노크 실행 및 이웃 발견 여정
- [기술 스펙](./tech-spec.md) - API, 데이터베이스, 알고리즘 명세

## 의존성

### 선행 요구사항
- [온보딩 시스템](../01_Onboarding/README.md) - 사용자 관심사 데이터
- [룸메이트 시스템](../02_Roommate/README.md) - 최초 AI 페르소나

### 연관 시스템
- [공간 시각화](../08_Spatial/README.md) - 블랙아웃 렌더링 및 해제
- [대화 시스템](../04_Chat/README.md) - 이웃과의 1:1 대화
- [페르소나 시스템](../05_Persona/README.md) - 이웃 AI 생성

## 성공 지표 (KPI)
- 일일 노크 실행률 (DAU 대비)
- 신규 이웃 발견 수 (누적)
- 노크 후 대화 시작률
- 유료 전환율 (무제한 노크 구독)
- 연속 노크 일수 (Streak)
