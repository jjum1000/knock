# 관계 역학 시스템 (Relationship Dynamics System)

## 개요
AI 페르소나와의 상호작용 빈도, 대화 주제, 감정에 따라 관계가 동적으로 변화하며, 이를 시스템 프롬프트에 반영하여 대화 스타일이 진화하는 시스템입니다.

## 핵심 가치
- **살아있는 관계**: 고정된 AI가 아닌 상호작용에 따라 변화하는 관계 경험
- **성장의 재미**: 관계 단계 발전을 통한 성취감과 지속 동기 부여
- **피드백 시각화**: 관계 변화를 명확히 인지할 수 있는 UI/UX 제공

## 주요 기능

### 1. 관계 단계 시스템 (기본)
- 5단계 관계 레벨: 낯선 사이 → 알게 된 사이 → 친한 사이 → 가까운 사이 → 절친
- 각 단계별 차별화된 AI 말투 및 태도
- 시각적 관계 게이지 표시

### 2. 상호작용 추적 (강화)
- 대화 빈도, 메시지 개수, 대화 시간 측정
- 긍정/부정 감정 분석 및 누적
- 주제 일치도 계산

### 3. 동적 프롬프트 업데이트 (강화)
- 관계 단계 변화 시 시스템 프롬프트 자동 수정
- 10회 이상 긍정 대화 시 다음 단계로 진화
- 말투, 호칭, 대화 주제 깊이 조절

## 문서 구성

- [기능 명세서](./feature-spec.md) - 상세 기능 정의 및 요구사항
- [사용자 플로우](./user-flow.md) - 관계 발전 단계별 프로세스
- [기술 스펙](./tech-spec.md) - API, 데이터베이스, 프롬프트 업데이트 명세

## 의존성

### 선행 요구사항
- [온보딩 시스템](../01_Onboarding/README.md) - 초기 관계 설정
- [대화 시스템](../04_Chat/README.md) - 상호작용 데이터 수집
- [메모리 시스템](../05_Memory/README.md) - 관계 맥락 저장

### 연관 시스템
- [비동기 노크 시스템](../07_AsyncKnock/README.md) - 관계 기반 맞춤 메시지

## 성공 지표 (KPI)
- 관계 진화율 (7일 내 1단계 이상 상승 비율)
- 평균 관계 레벨 분포
- 관계 변화 후 대화 증가율
- 사용자 만족도 (관계 시스템 인지 여부)
